function captureVideoFrame(e,t,n,a){if("string"==typeof e&&(e=document.querySelector(e)),t=t||"jpeg",!e||"png"!==t&&"jpeg"!==t)return!1;var l=document.createElement("CANVAS");l.width=n||e.videoWidth,l.height=a||e.videoHeight,l.getContext("2d").drawImage(e,0,0);for(var s=l.toDataURL("image/"+t),o=s.split(",")[1],i=s.split(";")[0].slice(5),u=window.atob(o),g=new ArrayBuffer(u.length),r=new Uint8Array(g),c=0;c<u.length;c++)r[c]=u.charCodeAt(c);var d=new Blob([r],{type:i});return{blob:d,dataUri:s,format:t,width:l.width,height:l.height}}