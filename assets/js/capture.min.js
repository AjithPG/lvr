function captureVideoFrame(e,t,r,a){if("string"==typeof e&&(e=document.querySelector(e)),t=t||"jpeg",!e||"png"!==t&&"jpeg"!==t)return!1;var i=document.createElement("CANVAS");i.width=r||e.videoWidth,i.height=a||e.videoHeight,i.getContext("2d").drawImage(e,0,0);for(var n=i.toDataURL("image/"+t),o=n.split(",")[1],d=n.split(";")[0].slice(5),h=window.atob(o),g=new ArrayBuffer(h.length),v=new Uint8Array(g),l=0;l<h.length;l++)v[l]=h.charCodeAt(l);var f=new Blob([v],{type:d});return{blob:f,dataUri:n,format:t,width:i.width,height:i.height}}